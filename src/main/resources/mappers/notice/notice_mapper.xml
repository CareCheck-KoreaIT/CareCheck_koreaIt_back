<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.korit.carecheckkoreait.mapper.NoticeMapper">
    <insert id="insertNotice">
        insert into notice_tb
        values(
          default,
          #{usercode},
          #{title},
          #{content},
          now(),
          now()
        )
    </insert>
    <!--    <select id="selectNoticeAllBySearchText" resultType="java.lang.Integer">-->
<!--        select-->
<!--            count(*)-->
<!--        from-->
<!--            notice_tb-->
<!--        <where>-->
<!--            <if test="searchText != null and searchText != ''">-->
<!--                title like concat("%", #{searchText}, "%")-->
<!--            </if>-->
<!--        </where>-->
<!--    </select>-->
    <select id="selectAllNoticeList" resultType="com.korit.carecheckkoreait.entity.NoticeSearch">
        select
            notice_id as noticeId,
            usercode,
            title,
            content,
            created_at as createdAt,
            updated_at as updateAt
        from
            notice_tb
        <if test="startIndex != null and limitCount != null">
            LIMIT #{startIndex}, #{limitCount}
        </if>
    </select>
    
    <delete id="deleteNotice">
        delete
        from
            notice_tb
        where
            notice_id = #{noticeId}
    </delete>
</mapper>